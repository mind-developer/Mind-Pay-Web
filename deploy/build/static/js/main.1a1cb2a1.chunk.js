(this.webpackJsonpmind_pay_frontend=this.webpackJsonpmind_pay_frontend||[]).push([[0],{325:function(e,t,a){e.exports=a.p+"static/media/mainlogo.bb6e12f7.png"},364:function(e,t,a){e.exports=a(600)},369:function(e,t,a){},459:function(e,t,a){},600:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),i=(a(369),a(370),a(50)),c=a.n(i),u=a(168),m=a(49),s=a(96),d=a(97);function f(){var e=Object(s.a)(["\n    background-color: rgb(46, 46, 46);\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n\n    img{\n        width: 150px;\n    }\n\n    form{\n        width: 400px;\n        \n        .ant-form-item-explain, .ant-form-item-extra{\n            color: #ff4d4f;\n        }   \n        \n        .ant-input-affix-wrapper{\n            outline: none;\n\n            &{\n                border: 0;\n                border-bottom: 1px white solid;\n            }\n\n            &,*{\n                background-color: transparent;\n                color: white;\n            }\n\n            &.ant-input-affix-wrapper-focused{\n                box-shadow: none;\n            }\n        }\n\n        .login-form-button{\n            width: 100%;\n            background: #dc1d45;\n            border-color: #d81e3d;\n            margin-top: 10px;\n            border-radius: 5px;\n        }\n    }\n"]);return f=function(){return e},e}var p=d.a.section(f()),E=a(623),g=a(614),h=a(617),b=a(56),v=a(625),y=a(626),x=a(325),k=a.n(x),j=a(133),I=a.n(j),w=a(119),O=a.n(w),S=a(160),C=a(88),N=r.a.createContext({});function _(e){var t=e.children,a=Object(n.useState)(null),l=Object(C.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(!0),m=Object(C.a)(u,2),s=m[0],d=m[1];function f(){i(null),localStorage.removeItem("user",null),localStorage.removeItem("jwtToken",null)}function p(){return(p=Object(S.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.user,n=t.token,i(a),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("jwtToken",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=localStorage.getItem("user"),t=localStorage.getItem("jwtToken");i(t?JSON.parse(e):null),d(!1)}),[d]);var E=function(){var e=Object(S.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e){setTimeout((function(){var t=localStorage.getItem("jwtToken");e(t)}),50)})),e.abrupt("return",a.then((function(e){return c.a.get(t,{headers:{Authorization:e}}).then((function(e){return e})).catch((function(e){401===e.response.status?f():alert("Erro interno, por favor tente novamente ou contate um administrador!")}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(N.Provider,{value:{isAuthenticated:Boolean(o),user:o,isLoading:s,login:function(e){return p.apply(this,arguments)},logout:f,fetcher:E}},t)}E.b.config({maxCount:3});var z=function(){var e=Object(n.useContext)(N).login;return r.a.createElement(p,null,r.a.createElement("img",{alt:"MindLogo",src:k.a}),r.a.createElement(g.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){c.a.post("/admin/login",t).then((function(t){e(t.data)})).catch((function(e){var t;E.b.error(null===(t=e.response)||void 0===t?void 0:t.data)}))}},r.a.createElement(g.a.Item,{name:"cpf",rules:[{required:!0,message:"Por favor coloque com sua login!"}]},r.a.createElement(I.a,{mask:"999.999.999-99",maskPlaceholder:""},(function(){return r.a.createElement(h.a,{prefix:r.a.createElement(v.a,{className:"site-form-item-icon"}),autoComplete:"off",placeholder:"Login"})}))),r.a.createElement(g.a.Item,{name:"password",rules:[{required:!0,message:"Por favor coloque com sua senha!"}]},r.a.createElement(h.a,{prefix:r.a.createElement(y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Senha"})),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Entrar"))))},P=a(609),R=a(130),q=(a(459),a(357)),F=a(624),A=a(206),T=a(610),L=a(64);function B(){var e=Object(s.a)(["\n    width: 150px;\n    height: 150px;\n    border-radius: 100%;\n    object-fit: cover;\n"]);return B=function(){return e},e}function V(){var e=Object(s.a)(["\n    width: 10px;\n    height: 10px;\n    background: ",";\n    display: block;\n    border-radius: 100%;\n    margin-left: 30px;\n"]);return V=function(){return e},e}var D=d.a.span(V(),(function(e){return e.status?"#0aff0a":"red"})),$=(d.a.img(B()),a(628)),U=a(629),M=a(630),J=a(618),K=a(606),H=a(607),G=a(627),W=a(330);var Q=function(e){var t=e.IsOpen,a=e.setIsOpen,l=Object(W.useForm)(),o=Object(C.a)(l,1)[0],i=Object(n.useState)(!1),u=Object(C.a)(i,2),m=u[0],s=u[1];return r.a.createElement(J.a,{title:"Cadastrar novo minder",width:400,onClose:function(){return a((function(e){return!e}))},visible:t,bodyStyle:{paddingBottom:80},footer:r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(b.a,{style:{marginRight:8},onClick:function(){return a((function(e){return!e}))}},"Cancel"),r.a.createElement(b.a,{type:"primary",onClick:function(){return o.submit()},disabled:m},m?r.a.createElement(G.a,null):"Enviar"))},r.a.createElement(g.a,{layout:"vertical",form:o,onFinish:function(e){s(!0),c.a.post("/register",e).then((function(e){o.resetFields(),E.b.success("Usu\xe1rio cadastrado com sucesso!"),Object(L.b)("/users"),a(!1)})).catch((function(e){E.b.error(e.response.data)})).finally((function(){s(!1)}))},hideRequiredMark:!0},r.a.createElement(K.a,{gutter:16},r.a.createElement(H.a,{span:24},r.a.createElement(g.a.Item,{name:"name",label:"Nome",rules:[{required:!0,message:"Please enter user name"}]},r.a.createElement(h.a,{placeholder:"Nome",autoComplete:"off"})))),r.a.createElement(K.a,{gutter:16},r.a.createElement(H.a,{span:12},r.a.createElement(g.a.Item,{name:"cpf",label:"CPF",rules:[{required:!0,message:"Por favor digite o CPF"}]},r.a.createElement(I.a,{mask:"999.999.999-99",maskPlaceholder:""},(function(){return r.a.createElement(h.a,{placeholder:"CPF",autoComplete:"off"})})))),r.a.createElement(H.a,{span:12},r.a.createElement(g.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Por favor digite o email"}]},r.a.createElement(h.a,{placeholder:"Email",autoComplete:"off"}))))))},X=a(332),Y=a.n(X);var Z=function(e){return r.a.createElement(R.a,null,r.a.createElement(R.a.Item,null,r.a.createElement("a",{href:"/user/"+e.id},"Ver Mais")),r.a.createElement(R.a.Item,null,"Ver Recibos"),r.a.createElement(R.a.Item,{danger:!0,onClick:function(){return function(e){var t=e.name,a=e.id;q.a.confirm({title:"Tem certeza que deseja excluir "+t+"?",icon:r.a.createElement($.a,null),content:"Essa a\xe7\xe3o \xe9 irreversivel",okText:"Sim",cancelText:"Cancelar",onOk:function(){var e=localStorage.getItem("jwtToken");c.a.delete("/user/"+a,{headers:{Authorization:e}}).then((function(e){E.b.success("Usu\xe1rio excluido com sucesso"),Object(L.b)("/users")}))}})}({name:e.name,id:e.id})}},"Excluir"))},ee=[{title:"Avatar",dataIndex:"profile_image",key:"profile_image",render:function(e,t){return r.a.createElement(Y.a,{src:c.a.defaults.baseURL+"media/"+e},null===t||void 0===t?void 0:t.name[0])}},{title:"Nome",dataIndex:"name",key:"nome",render:function(e,t){return r.a.createElement("a",{href:"/user/"+t.id},e)}},{title:"Email",dataIndex:"email",key:"email"},{title:"CPF",dataIndex:"cpf",key:"cpf",render:function(e){return r.a.createElement("span",null,e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))}},{title:"Finalizou?",dataIndex:"finished_registration",key:"cpf",render:function(e){return r.a.createElement("span",null,r.a.createElement(D,{status:Boolean(e)}))}},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(F.b,{size:"middle"},r.a.createElement(A.a,{overlay:function(){return Z(t)}},r.a.createElement(b.a,{type:"dashed",className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},"Mais Op\xe7\xf5es ",r.a.createElement(U.a,null))))}}],te=function(e){var t=localStorage.getItem("jwtToken");return c.a.get(e,{headers:{Authorization:t}}).then((function(e){return e}))},ae=function(){var e=Object(L.a)("/users",te).data,t=Object(n.useState)(!1),a=Object(C.a)(t,2),l=a[0],o=a[1];return r.a.createElement("div",{className:"site-layout-background",style:{padding:24}},r.a.createElement(Q,{IsOpen:l,setIsOpen:o}),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(b.a,{type:"primary",onClick:function(){return o((function(e){return!e}))}},r.a.createElement(M.a,null)," Criar novo minder")),r.a.createElement("h1",null,"Listagem de Minders"),r.a.createElement(T.a,{loading:Boolean(!e),locale:{emptyText:"Sem dados"},rowKey:"id",theme:"",pagination:{pageSize:5},columns:ee,dataSource:null===e||void 0===e?void 0:e.data}))};function ne(){var e=Object(s.a)(["\n    width: 150px;\n    height: 150px;\n    border-radius: 100%;\n    object-fit: cover;\n"]);return ne=function(){return e},e}function re(){var e=Object(s.a)(["\n    width: 10px;\n    height: 10px;\n    background: ",";\n    display: block;\n    border-radius: 100%;\n"]);return re=function(){return e},e}var le=d.a.span(re(),(function(e){return e.status?"#0aff0a":"red"})),oe=(d.a.img(ne()),a(632)),ie=a(240),ce=a.n(ie),ue=a(631),me=function(e){var t=e.record;return r.a.createElement(g.a,null,r.a.createElement(g.a.Item,{name:"receipt_location"},r.a.createElement(ce.a,{accept:"png",name:"avatar",customRequest:function(e){var a=new FormData;a.append("file",e.file),c.a.put("/requests/"+t.id,a,{headers:{Authorization:localStorage.getItem("jwtToken"),"Content-Type":"multipart/form-data"}}).then((function(e){q.a.destroyAll(),E.b.success("Recibo enviado com sucesso!"),Object(L.b)("/requests/all")})).catch((function(e){E.b.error("Desculpe, ocorreu um erro :(")}))}},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(ue.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Clique ou arraste para subir o recibo"))))},se=a(252),de=a.n(se),fe=new Intl.NumberFormat("pt-BR",{maximumSignificantDigits:3}),pe=[{title:"Nome",dataIndex:["users","name"],key:"nome",render:function(e,t){return r.a.createElement("a",{href:"user/".concat(t.user_id),title:"Ir para usu\xe1rio"},e)}},{title:"Valor",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement("span",null,"R$ ",fe.format(e))}},{title:"Descri\xe7\xe3o",dataIndex:"description",key:"description",render:function(e){return r.a.createElement("span",{style:{maxWidth:"250px"}},e)}},{title:"Pago?",dataIndex:"request_finished",key:"request_finished",render:function(e){return r.a.createElement("span",null,r.a.createElement(le,{status:Boolean(e)}))},filters:[{text:"Pago",value:1},{text:"Em aberto",value:null}],onFilter:function(e,t){return t.request_finished===e}},{title:"Data",dataIndex:"created_at",key:"created_at",sorter:function(e,t){return de()(e.created_at).unix()-de()(t.created_at).unix()}},{title:"A\xe7\xe3o",key:"acao",render:function(e,t){return r.a.createElement(F.b,{size:"middle"},!t.request_finished&&r.a.createElement(b.a,{type:"danger",className:"ant-dropdown-link",onClick:function(e){return q.a.confirm(function(e){return{title:"Enviar Recibo",content:r.a.createElement(me,{record:e})}}(t))}},"Pagar"))}}],Ee={expandedRowRender:function(e){return!!e.receipt_location&&r.a.createElement("a",{href:c.a.defaults.baseURL+"media/"+e.receipt_location},r.a.createElement(oe.a,null),e.receipt_location)}},ge=function(){var e=Object(n.useContext)(N).fetcher,t=Object(L.a)("/requests/all",e).data;return r.a.createElement("div",{className:"site-layout-background",style:{padding:24}},r.a.createElement("h1",null,"Listagem de Pedidos"),r.a.createElement(T.a,{loading:Boolean(!t),locale:{emptyText:"Sem dados"},rowKey:"id",expandable:Ee,theme:"",pagination:{pageSize:5},columns:pe,dataSource:null===t||void 0===t?void 0:t.data}))},he=a(633),be=a(634),ve=a(635),ye=a(355),xe=a(343),ke=a(615),je=a(619),Ie=a(345),we=function(e){var t=Object(Ie.useParams)().id,a=void 0===t?"":t,l=Object(n.useContext)(N).fetcher,o=Object(L.a)("/user/".concat(a),l).data,i=g.a.useForm(),u=Object(C.a)(i,1)[0],m=Object(n.useState)([]),s=Object(C.a)(m,2),d=s[0],f=s[1],p=function(e,t,a){return E.b.loading({content:e,key:a}),function(){E.b.success({content:t,key:a})}},y=function(){var e=Object(S.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p("Atualizando!","Atualizado!","attdados"),c.a.put("/user/"+a,t,{headers:{Authorization:localStorage.getItem("jwtToken")}}).then((function(e){n()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:350}},r.a.createElement(g.a,{name:"normal_login",form:u,className:"login-form",initialValues:{remember:!0},onFinish:y},r.a.createElement(g.a.Item,{noStyle:!0},r.a.createElement(g.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(ke.a.Dragger,{onRemove:function(){f([])},customRequest:function(e){var t=p("Atualizando!","Foto de perfil atualizada com sucesso!","attimagem"),n=new FormData;n.append("file",e.file),c.a.patch("/user/profile/"+a,n,{headers:{Authorization:localStorage.getItem("jwtToken"),"Content-Type":"multipart/form-data"}}).then((function(e){t(),Object(L.b)("/user/".concat(a))}))},fileList:d,multiple:!1},r.a.createElement(je.a,{style:{fontSize:50,margin:"1.5rem 0"},size:200,src:(null===o||void 0===o?void 0:o.data.profile_image)&&c.a.defaults.baseURL+"media/"+(null===o||void 0===o?void 0:o.data.profile_image),alt:"profile_image"},null===o||void 0===o?void 0:o.data.name[0]),r.a.createElement("p",{className:"ant-upload-hint"},"Clique ou arraste para adicionar uma foto de perfil"))))),r.a.createElement(g.a.Item,{style:{marginBottom:0}},r.a.createElement(g.a.Item,{name:"name"},r.a.createElement(h.a,{placeholder:"Nome",defaultValue:null===o||void 0===o?void 0:o.data.name,prefix:r.a.createElement(v.a,{className:"site-form-item-icon"})}))),r.a.createElement(g.a.Item,{name:"cpf"},r.a.createElement(h.a,{placeholder:"CPF",defaultValue:null===o||void 0===o?void 0:o.data.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),prefix:r.a.createElement(v.a,{className:"site-form-item-icon"})})),r.a.createElement(g.a.Item,{style:{marginBottom:0}},r.a.createElement(g.a.Item,{name:"agency_number",style:{display:"inline-block",width:"calc(50%)"}},r.a.createElement(h.a,{placeholder:"Numero da Agencia",defaultValue:null===o||void 0===o?void 0:o.data.agency_number,prefix:r.a.createElement(he.a,{className:"site-form-item-icon"})})),r.a.createElement(g.a.Item,{name:"bank",style:{display:"inline-block",width:"calc(50% - 8px)",marginLeft:"8px"}},r.a.createElement(h.a,{placeholder:"Banco",defaultValue:null===o||void 0===o?void 0:o.data.bank,prefix:r.a.createElement(be.a,{className:"site-form-item-icon"})}))),r.a.createElement(g.a.Item,{name:"account",type:"text"},r.a.createElement(I.a,{mask:"999999-9",defaultValue:null===o||void 0===o?void 0:o.data.account},(function(e){return r.a.createElement(h.a,Object.assign({},e,{placeholder:"Numero da conta",prefix:r.a.createElement(v.a,{className:"site-form-item-icon"})}))}))),r.a.createElement(g.a.Item,{name:"email",type:"email"},r.a.createElement(h.a,{placeholder:"Email",defaultValue:null===o||void 0===o?void 0:o.data.email,prefix:r.a.createElement(ve.a,{className:"site-form-item-icon"})})),r.a.createElement(g.a.Item,null,r.a.createElement(b.a,{style:{marginRight:"10px"},type:"primary",htmlType:"submit",className:"login-form-button"},"Atualizar")))):r.a.createElement(xe.a,{indicator:r.a.createElement(G.a,null)})},Oe=a(613),Se=a(611),Ce=a(621);function Ne(){var e=Object(s.a)(["\n    flex-direction: column;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    text-align: center;\n\n    \n    h1{\n        font-size: 42px;\n        font-family: 'poppins';\n    }\n\n"]);return Ne=function(){return e},e}var _e=d.a.div(Ne()),ze={independentAxis:{style:{tickLabels:{fill:"black",angle:0,padding:10,fontSize:10,fontFamily:"Poppins"},grid:{stroke:"transparent"}}},dependentAxis:{style:{tickLabels:{fill:"black",padding:5,fontSize:10,fontFamily:"Poppins"},grid:{stroke:"transparent"}}}},Pe=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"];var Re=function(){var e=Object(n.useContext)(N).fetcher,t=Object(L.a)("/users/count",e).data,a=Object(L.a)("/users/payments",e).data;return t||a?r.a.createElement(_e,null,r.a.createElement(K.a,{style:{justifyContent:"space-between",alignItems:"center",width:"70%"}},r.a.createElement(H.a,{span:24},r.a.createElement("h1",{style:{marginTop:20}},"Gr\xe1fico de pagamentos mensais"),(null===a||void 0===a?void 0:a.data)&&r.a.createElement(Oe.a,{height:250,theme:ze},r.a.createElement(Se.a,{interpolation:"linear",data:null===a||void 0===a?void 0:a.data.map((function(e,t){return{x:Pe[t],y:e}})),style:{data:{stroke:"black"}}}),r.a.createElement(Ce.a,{data:null===a||void 0===a?void 0:a.data.map((function(e,t){return{x:Pe[t],y:e}})),size:2,style:{data:{fill:"black"}}}))),r.a.createElement(H.a,{span:24,style:{marginBottom:50}},r.a.createElement("h1",null,"j\xe1 somos ",null===t||void 0===t?void 0:t.data.length," Minders"),null===t||void 0===t?void 0:t.data.map((function(e){return r.a.createElement(je.a,{alt:e.name,size:50,style:{objectFit:"cover"},src:c.a.defaults.baseURL+"media/"+e.profile_image},e.name[0])}))))):r.a.createElement(xe.a,{indicator:r.a.createElement(G.a,null)})},qe=a(636),Fe=a(637),Ae=a(638),Te=[{path:"/user/:id",component:function(){return r.a.createElement(we,null)},onlyRoute:!0},{name:"Perfil",path:"/user/",component:function(){return r.a.createElement(we,null)},icon:r.a.createElement(v.a,null)},{name:"Usu\xe1rios",path:"/users",component:function(){return r.a.createElement(ae,null)},icon:r.a.createElement(qe.a,null)},{name:"Pagamentos",path:"/requests",component:function(){return r.a.createElement(ge,null)},icon:r.a.createElement(Fe.a,null)},{name:"Dashboards",path:"/",component:function(){return r.a.createElement(Re,null)},icon:r.a.createElement(Ae.a,null)}],Le={};Te.forEach((function(e,t){Le[e.path]=t.toString()}));var Be=Te,Ve=Le,De=P.a.Content,$e=P.a.Sider,Ue=function(){var e=Object(m.useLocation)().pathname;return r.a.createElement(u.a,null,r.a.createElement(P.a,{style:{minHeight:"100vh"}},r.a.createElement($e,{collapsible:!0},r.a.createElement(R.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[Ve[e]]},Be.map((function(e,t){return e.onlyRoute?null:r.a.createElement(R.a.Item,{icon:e.icon,key:t},r.a.createElement(u.b,{to:e.path},e.name))})))),r.a.createElement(P.a,{className:"site-layout"},r.a.createElement(De,{style:{margin:"16px",padding:"0 16px"}},r.a.createElement(m.Switch,null,Be.map((function(e,t){var a=e.path,n=e.component;return r.a.createElement(m.Route,{key:t,path:a,component:n})})))))))};c.a.defaults.baseURL="http://162.214.54.8:3376/";var Me=function(){var e=Object(n.useContext)(N),t=e.isAuthenticated;return e.isLoading?r.a.createElement(r.a.Fragment,null):r.a.createElement(u.a,null,r.a.createElement(m.Switch,null,r.a.createElement(m.Route,{path:"/"},t?r.a.createElement(Ue,null):r.a.createElement(z,null))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null,r.a.createElement(Me,null))),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.1a1cb2a1.chunk.js.map